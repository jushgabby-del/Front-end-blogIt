// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

/model User {
  id           String    @id @map("UserId") @default(uuid())
  firstName    String    @map("FirstName")
  lastName     String    @map("LastName")
  username     String    @map("Username") @unique
  emailAddress String    @map("EmailAddress") @unique
  isDeleted    Boolean   @map("IsDeleted") @default(false)
  dateJoined   DateTime  @map("DateJoined") @default(now())
  lastUpdate   DateTime  @map("LastUpdate") @updatedAt

  blogs        Blog[]    @relation("UserBlogs")
}



// BLOG MODEL block
model Blog {
  id          String    @id @map("BlogId") @default(uuid())
  title       String    @map("BlogTitle")
  description String    @map("BlogDescription")
  isDeleted   Boolean   @default(false) @map("IsDeleted")
  isCompleted Boolean   @default(false) @map("IsCompleted")
  createdAt   DateTime  @default(now()) @map("CreatedAt")
  updatedAt   DateTime  @updatedAt @map("UpdatedAt")

  userId      String    @map("UserId")
  User        User      @relation(fields: [userId], references: [id], name: "UserBlogs")

  @@map("Blogs")   // Table name in SQL Server
}
